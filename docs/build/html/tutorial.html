

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorial &mdash; picwriter 0.0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="picwriter 0.0.1 documentation" href="index.html"/>
        <link rel="next" title="Toolkit Documentation" href="toolkit-documentation.html"/>
        <link rel="prev" title="Installation" href="installation.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> picwriter
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-code-structure">Basic code structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#putting-it-all-together">Putting it all together</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#adding-some-simple-components">Adding some simple components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#waveguides-waveguide-templates">Waveguides &amp; Waveguide Templates</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="toolkit-documentation.html">Toolkit Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="component-documentation.html">Component Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">picwriter</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Tutorial</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/tutorial.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tutorial">
<h1>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<p>Getting started with PICwriter is easy, assuming everything’s been installed appropriately.  In the examples below, we’ll walk you through generating a quick lithography mask.</p>
<div class="section" id="basic-code-structure">
<h2>Basic code structure<a class="headerlink" href="#basic-code-structure" title="Permalink to this headline">¶</a></h2>
<p>Every file should start with the following import statements:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gdspy</span>
<span class="kn">from</span> <span class="nn">picwriter</span> <span class="k">import</span> <span class="n">toolkit</span> <span class="k">as</span> <span class="n">tk</span>
<span class="kn">from</span> <span class="nn">picwriter.components</span> <span class="k">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>The first statement allows us to use the base commands from the gdspy library.  The second provides additional functionality for working with the picwriter components, which are imported with the third statement.  Next, we can create a top-level cell that we will add all of our PIC components to:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">top</span> <span class="o">=</span> <span class="n">gdspy</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="s2">&quot;top&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, we can just add a simple geometric shape from the gdspy library, such as a square:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">top</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">gdspy</span><span class="o">.</span><span class="n">Rectangle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span> <span class="n">layer</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">datatype</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
<p>Let’s add a simple waveguide with a bend.  To do this, we only need a reference to a WaveguideTemplate reference, and a set of waypoints (i.e. a list of (x,y) tuples).  The WaveguideTemplate class specifies all important parameters, such as resist type, waveguide width, cladding width, bending radius, then the layer and datatype:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">wgt</span> <span class="o">=</span> <span class="n">WaveguideTemplate</span><span class="p">(</span><span class="n">wg_width</span><span class="o">=</span><span class="mf">0.45</span><span class="p">,</span> <span class="n">clad_width</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">bend_radius</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">resist</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="n">fab</span><span class="o">=</span><span class="s1">&#39;ETCH&#39;</span><span class="p">,</span> <span class="n">layer</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">datatype</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">wg</span><span class="o">=</span><span class="n">Waveguide</span><span class="p">([(</span><span class="mi">50</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">250</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">250</span><span class="p">,</span><span class="mi">500</span><span class="p">),</span> <span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">500</span><span class="p">)],</span> <span class="n">wgt</span><span class="p">)</span>
</pre></div>
</div>
<p>We then add this to the top cell using the toolkit “add” method:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">tk</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="n">wg</span><span class="p">)</span>
</pre></div>
</div>
<p>This is simply a shortcut for the gdspy add method (which would look like <cite>top.add(gdspy.CellReference(subcell))</cite>.  Both are equivalent, though the first is slightly less typing.  Lastly, we can visualize everything by either visualizing with the built-in gdspy LayoutViewer, or exporting to a GDSII file in the working directory of your python script:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">gdspy</span><span class="o">.</span><span class="n">LayoutViewer</span><span class="p">()</span>
<span class="n">gdspy</span><span class="o">.</span><span class="n">write_gds</span><span class="p">(</span><span class="s1">&#39;tutorial.gds&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="mf">1.0e-6</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mf">1.0e-9</span><span class="p">)</span>
</pre></div>
</div>
<p>The ‘units’ specifies we are using microns as the base unit, and ‘precision’ specifies 1 nm precision.</p>
<div class="section" id="putting-it-all-together">
<h3>Putting it all together<a class="headerlink" href="#putting-it-all-together" title="Permalink to this headline">¶</a></h3>
<p>Below is the entire program, along with an image of the GDSII file it generates:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gdspy</span>
<span class="kn">from</span> <span class="nn">picwriter</span> <span class="k">import</span> <span class="n">toolkit</span> <span class="k">as</span> <span class="n">tk</span>
<span class="kn">from</span> <span class="nn">picwriter.components</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">top</span> <span class="o">=</span> <span class="n">gdspy</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="s2">&quot;top&quot;</span><span class="p">)</span>
<span class="n">wgt</span> <span class="o">=</span> <span class="n">WaveguideTemplate</span><span class="p">(</span><span class="n">wg_width</span><span class="o">=</span><span class="mf">0.45</span><span class="p">,</span> <span class="n">clad_width</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">bend_radius</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">resist</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="n">fab</span><span class="o">=</span><span class="s1">&#39;ETCH&#39;</span><span class="p">,</span> <span class="n">layer</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">datatype</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">top</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">gdspy</span><span class="o">.</span><span class="n">Rectangle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span> <span class="n">layer</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">datatype</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="n">wg</span><span class="o">=</span><span class="n">Waveguide</span><span class="p">([(</span><span class="mi">50</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">250</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">250</span><span class="p">,</span><span class="mi">500</span><span class="p">),</span> <span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">500</span><span class="p">)],</span> <span class="n">wgt</span><span class="p">)</span>
<span class="n">tk</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="n">wg</span><span class="p">)</span>
<span class="n">gdspy</span><span class="o">.</span><span class="n">LayoutViewer</span><span class="p">()</span>
<span class="n">gdspy</span><span class="o">.</span><span class="n">write_gds</span><span class="p">(</span><span class="s1">&#39;tutorial.gds&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="mf">1.0e-6</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mf">1.0e-9</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="adding-some-simple-components">
<h2>Adding some simple components<a class="headerlink" href="#adding-some-simple-components" title="Permalink to this headline">¶</a></h2>
<p>Here we show how to generate a slightly more complex mask using the set of supported components that come standard in the picwriter library.</p>
<div class="section" id="waveguides-waveguide-templates">
<h3>Waveguides &amp; Waveguide Templates<a class="headerlink" href="#waveguides-waveguide-templates" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="toolkit-documentation.html" class="btn btn-neutral float-right" title="Toolkit Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Derek Kita.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>